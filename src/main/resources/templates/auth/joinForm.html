<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
            xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="assets/img/favicon.png">
    <title>
        회원가입
    </title>
    <!--         Fonts and icons         -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <!-- Nucleo Icons -->
    <link href="/assets/css/nucleo-icons.css" rel="stylesheet" />
    <link href="/assets/css/nucleo-svg.css" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <link href="/assets/css/nucleo-svg.css" rel="stylesheet" />
    <!-- CSS Files -->
    <link id="pagestyle" href="/assets/css/soft-ui-dashboard.css?v=1.0.3" rel="stylesheet" />
    <link href="/css/form.css" rel="stylesheet" />
</head>

<body class="g-sidenav-show    bg-gray-100">
    <section class="min-vh-100 mb-8">
        <div class="page-header align-items-start min-vh-50 pt-5 pb-11 m-3 border-radius-lg" style="background-image: url('assets/img/curved-images/curved6.jpg');">
            <span class="mask bg-gradient-dark opacity-6"></span>
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-5 text-center mx-auto">
                        <h1 class="text-white mb-2 mt-5">Welcome!</h1>
                        <p class="text-lead text-white">Use these awesome forms to login or create new account in your project for free.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row mt-lg-n10 mt-md-n11 mt-n10">
                <div class="col-xl-4 col-lg-5 col-md-7 mx-auto">
                    <div class="card z-index-0">
                        <div class="card-header text-center pt-4" style="padding : 0;">
                            <h5>JOIN</h5>
                        </div>
 
                        <div class="card-body">
                            <form role="form text-left" action="/join" method="post" th:object="${joinDto}">
                                <div class="mb-3">
                                    <input type="text" th:field="*{name}" class="form-control" placeholder="이름" aria-label="Name"
                                    	th:class="${#fields.hasErrors('name')}? 'form-control fieldError' : 'form-control'">
                                    <p class="red" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">error layout</p>
                                </div>
                                <div class="mb-3">
                                    <input type="email" th:field="*{email}" class="form-control" placeholder="Email" aria-label="Email" aria-describedby="email-addon"
                                    	th:class="${#fields.hasErrors('email')}? 'form-control fieldError' : 'form-control'">
                                    <p class="red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">error layout</p>
                                </div>
                                <div class="mb-3">
                                    <input type="password" th:field="*{password}" class="form-control" placeholder="Password" aria-label="Password" aria-describedby="password-addon"
                                    	th:class="${#fields.hasErrors('password')}? 'form-control fieldError' : 'form-control'">
                                    <p class="red" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">error layout</p>
                                </div>
                                <div class="mb-3">
                                    <input type="password" id="pwCheck" class="form-control" placeholder="password Check">
                                    <p class="red" id="pwChecking" style="display:none">비밀번호가 맞지 않습니다.</p>
                                </div>
                                <div class="mb-3">
                                    <input type="text" th:field="*{phone}" class="form-control" placeholder="phone" aria-label="Phone"
                                    	th:class="${#fields.hasErrors('phone')}? 'form-control fieldError' : 'form-control'">
                                    <p class="red" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}">error layout</p>
                                </div>
                                <div class="mb-3">
                                	<select class="form-control" th:field="*{companyId}"
                                		th:class="${#fields.hasErrors('companyId')}? 'form-control fieldError' : 'form-control'">
                                		<option th:value="null" th:text="선택"/>
                                		<option th:each="company : ${companys}" 
                                				th:value="${company.id}"
                                				th:text="${company.name}"/>
                                	</select>
                                	<p class="red" th:if="${#fields.hasErrors('companyId')}" th:errors="*{companyId}">error layout</p>
                                </div>
                                
                                <div class="text-center">
                                    <input type="submit" class="btn bg-gradient-dark w-100 my-4 mb-2" value="회원 가입"/>
                                </div>
                                <p class="text-sm mt-3 mb-0">이미 계정이 있으신가요? <a href="/login" class="text-dark font-weight-bolder">로그인</a></p>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer th:replace="fragments/footer.html :: footer" class="footer py-5"></footer>
    <script src="/assets/js/core/popper.min.js"></script>
    <script src="/assets/js/core/bootstrap.min.js"></script>
    <script src="/assets/js/plugins/perfect-scrollbar.min.js"></script>
    <script src="/assets/js/plugins/smooth-scrollbar.min.js"></script>
    <script>
        var win = navigator.platform.indexOf('Win') > -1;
        if (win && document.querySelector('#sidenav-scrollbar')) {
            var options = {
                damping: '0.5'
            }
            Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
        }
        (function(){
        	document.querySelector('#pwCheck').addEventListener('keyup',function(){
        		let pw = document.querySelector('#password').value;
        		let pwchk = document.querySelector('#pwCheck').value;
        		if(pwchk === pw){
        			document.querySelector('#pwChecking').style.display = "none";
        		}else{
        			document.querySelector('#pwChecking').style.display = "block";
        		}
        	})
        })()
        
    </script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="assets/js/soft-ui-dashboard.min.js?v=1.0.3"></script>
</body>

</html>